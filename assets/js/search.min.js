$(document).ready(function(){let o=[];function e(){var c,r,s,e=$("#search_input"),t=$(".search_result"),a=$(".search-card").is("form");function o(e){e.preventDefault(),["127.0.0.1","localhost"].includes(location.hostname)?alert("本地网站不支持全文搜索！"):window.open("https://www.bing.com/search?q=site:"+location.hostname+" "+$("#search_input").val(),"_blank")}e.focus(function(){$(".icon-search").css("color","#3199DB"),t.show()}),e.keyup((c=this.autoComplete,r=r||120,function(){var e=this,t=arguments;clearTimeout(s),s=setTimeout(function(){c.apply(e,t)},r)})),a?((e=function(e){for(var t=window.location.search.substring(1).split("&"),c=0;c<t.length;c++){var r=t[c].split("=");if(r[0]==e)return decodeURI(r[1])}return!1}("q"))&&$("#search_input").val(e),$("#search_input").trigger("keyup"),$("#search_input").focus(),$(".search-card").submit(o),$(".icon-search").click(o),$(".icon-search").css("cursor","pointer")):$(document).click(function(e){"search_input"!==e.target.id&&"search_result"!==e.target.className&&"search_item"!==e.target.className&&($(".icon-search").css("color","#CAD3DC"),t.hide())})}$.getJSON("/search.json").done(function(e){o=e}),e.prototype.autoComplete=function(){var e,t=this.value.toLowerCase(),c=(t.length?$(".icon-search").css("color","#3199DB"):$(".icon-search").css("color","#CAD3DC"),$(".search-card").is("form")&&history.replaceState("","",location.pathname+"?q="+t),"");for(e in o){var r=o[e],s=r.title,a=r.tags;r.url;""!==t&&0<=(s+a).toLowerCase().indexOf(t)&&(c+='<a class="search_item" href="'+r.url+'">'+r.title+"</a>")}$(".search_result").html(c)},new e});